# Generated by Django 5.2.6 on 2025-10-29 01:29

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("api", "0001_initial"),
        ("contenttypes", "0002_remove_content_type_name"),
        ("prestadores", "0001_initial"),
    ]

    operations = [
        migrations.AddField(
            model_name="plantillaverificacion",
            name="categoria_prestador",
            field=models.ForeignKey(
                blank=True,
                help_text="Asocia esta plantilla a una categoría de prestador específica (opcional).",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="plantillas_verificacion",
                to="prestadores.categoriaprestador",
            ),
        ),
        migrations.AddField(
            model_name="plantillaverificacion",
            name="creado_por",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="plantillas_creadas",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="itemverificacion",
            name="plantilla",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="api.plantillaverificacion",
            ),
        ),
        migrations.AddField(
            model_name="pregunta",
            name="formulario",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="preguntas",
                to="api.formulario",
            ),
        ),
        migrations.AddField(
            model_name="opcionrespuesta",
            name="pregunta",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="opciones",
                to="api.pregunta",
            ),
        ),
        migrations.AddField(
            model_name="profile",
            name="department",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="api.department",
            ),
        ),
        migrations.AddField(
            model_name="profile",
            name="entity",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="api.entity",
            ),
        ),
        migrations.AddField(
            model_name="profile",
            name="municipality",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="api.municipality",
            ),
        ),
        migrations.AddField(
            model_name="profile",
            name="user",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="publicacion",
            name="autor",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="publicaciones",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="publicacion",
            name="entity",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="publicaciones",
                to="api.entity",
            ),
        ),
        migrations.AddField(
            model_name="asistenciacapacitacion",
            name="capacitacion",
            field=models.ForeignKey(
                limit_choices_to={"tipo": "CAPACITACION"},
                on_delete=django.db.models.deletion.CASCADE,
                related_name="asistentes",
                to="api.publicacion",
            ),
        ),
        migrations.AddField(
            model_name="resena",
            name="content_type",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                to="contenttypes.contenttype",
            ),
        ),
        migrations.AddField(
            model_name="resena",
            name="usuario",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="resenas_hechas",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="respuestaitemverificacion",
            name="item_original",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="respuestas_dadas",
                to="api.itemverificacion",
            ),
        ),
        migrations.AddField(
            model_name="respuestausuario",
            name="pregunta",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="respuestas",
                to="api.pregunta",
            ),
        ),
        migrations.AddField(
            model_name="respuestausuario",
            name="usuario",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="respuestas_formulario",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="artesano",
            name="rubro",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="artesanos",
                to="api.rubroartesano",
            ),
        ),
        migrations.AddField(
            model_name="rutaturistica",
            name="atractivos",
            field=models.ManyToManyField(
                blank=True,
                related_name="rutas",
                to="api.atractivoturistico",
                verbose_name="Atractivos en la Ruta",
            ),
        ),
        migrations.AddField(
            model_name="rutaturistica",
            name="municipalities",
            field=models.ManyToManyField(
                blank=True,
                related_name="rutas_turisticas",
                to="api.municipality",
                verbose_name="Municipios que abarca la Ruta",
            ),
        ),
        migrations.AddField(
            model_name="imagenrutaturistica",
            name="ruta",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="imagenes",
                to="api.rutaturistica",
            ),
        ),
        migrations.AddField(
            model_name="sugerencia",
            name="content_type",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="contenttypes.contenttype",
            ),
        ),
        migrations.AddField(
            model_name="sugerencia",
            name="usuario",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="sugerencias_hechas",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="documentoverificacion",
            name="tipo_documento",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="documentos",
                to="api.tipodocumentoverificacion",
            ),
        ),
        migrations.AddField(
            model_name="userllmconfig",
            name="user",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="llm_config",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Usuario",
            ),
        ),
        migrations.AddField(
            model_name="verificacion",
            name="funcionario_evaluador",
            field=models.ForeignKey(
                limit_choices_to={
                    "role__in": [
                        "ADMIN",
                        "FUNCIONARIO_DIRECTIVO",
                        "FUNCIONARIO_PROFESIONAL",
                    ]
                },
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="verificaciones_realizadas",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="verificacion",
            name="plantilla_usada",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="verificaciones_realizadas",
                to="api.plantillaverificacion",
            ),
        ),
        migrations.AddField(
            model_name="respuestaitemverificacion",
            name="verificacion",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="respuestas_items",
                to="api.verificacion",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="elementoguardado",
            unique_together={("usuario", "content_type", "object_id")},
        ),
        migrations.AlterUniqueTogether(
            name="formulario",
            unique_together={("nombre", "content_type", "object_id")},
        ),
        migrations.AlterUniqueTogether(
            name="asistenciacapacitacion",
            unique_together={("capacitacion", "usuario")},
        ),
        migrations.AlterUniqueTogether(
            name="resena",
            unique_together={("usuario", "content_type", "object_id")},
        ),
        migrations.AlterUniqueTogether(
            name="respuestausuario",
            unique_together={("usuario", "pregunta")},
        ),
        migrations.AlterUniqueTogether(
            name="respuestaitemverificacion",
            unique_together={("verificacion", "item_original")},
        ),
    ]
